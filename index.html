<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shark Bounty</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --primary: #1e90ff;
      --secondary: #ff6f61;
      --accent: #ffe600;
      --card-bg: #222;
      --bg: linear-gradient(135deg, #2f80ed 0%, #56ccf2 100%);
      --btn-bg: #222;
      --btn-active: #ffe600;
      --coin-size: 140px;
      --header: #fff;
      --energy-bg: #fffdc1;
      --energy-fill: #64dd17;
      --shadow: 0 6px 24px rgba(30,144,255,0.1);
    }
    body {
      margin: 0;
      font-family: 'Montserrat', Arial, sans-serif;
      background: var(--bg);
      min-height: 100vh;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #loadingScreen {
      position: fixed;
      left:0; top:0; right:0; bottom:0;
      z-index:999;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--bg);
    }
    #mainApp {
      display:none;
      width:100vw;
      min-height:100vh;
      flex-direction:column;
      align-items:center;
      overflow-x:hidden;
      padding-bottom:70px;
    }
    .header {
      width:100vw;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:16px;
      font-size:1.2em;
      font-weight:900;
      background:rgba(30,144,255,0.4);
      box-shadow:var(--shadow);
    }
    .balance-row {
      display:flex;
      align-items:center;
      gap:16px;
      margin:12px 0 0 18px;
      font-size:1em;
    }
    .balance-img {
      width:32px; height:32px; vertical-align:middle; border-radius:50%; background:#fff;
      object-fit:cover; border:2px solid var(--accent);
    }
    .balance-value {
      font-weight:900;
      font-size:1.1em;
    }
    .coin-section {
      display:flex;
      flex-direction:column;
      align-items:center;
      margin:22px 0 18px 0;
    }
    .coin-btn {
      width:var(--coin-size);
      height:var(--coin-size);
      border-radius:50%;
      background:radial-gradient(circle, #ffe600 60%, #ff6f61 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:var(--shadow);
      border:4px solid #fff;
      margin-bottom:8px;
      cursor:pointer;
      position:relative;
      transition:transform 0.1s;
    }
    .coin-btn:active { transform:scale(0.96);}
    .coin-btn img { width:80px; height:80px; border-radius:50%; }
    .tap-anim {
      position:absolute;
      left:50%;
      top:10%;
      transform:translate(-50%,-50%);
      font-size:2em;
      font-weight:900;
      color:var(--accent);
      opacity:0.8;
      animation:pop 1s forwards;
      pointer-events:none;
    }
    @keyframes pop {
      0% { opacity:1; transform:translate(-50%,-50%) scale(1);}
      60% { opacity:1; transform:translate(-50%,-90%) scale(1.7);}
      100% { opacity:0; transform:translate(-50%,-170%) scale(2);}
    }
    .energy-bar-wrap {
      margin-top:8px;
      width:120px;
      height:16px;
      border-radius:9px;
      background:var(--energy-bg);
      overflow:hidden;
      box-shadow:0 2px 12px rgba(0,0,0,0.08);
      border:1px solid #ffeb3b;
      position:relative;
    }
    .energy-fill {
      background:linear-gradient(90deg, var(--energy-fill), #ffe600 80%);
      height:100%;
      border-radius:9px 0 0 9px;
      transition:width 0.2s;
    }
    .energy-label {
      font-size:0.85em;
      color:#333;
      position:absolute;
      left:50%;
      top:50%;
      transform:translate(-50%,-50%);
      font-weight:700;
      text-shadow:0 2px 8px #fff;
    }
    .section {
      width:95vw; max-width:400px; background:rgba(34,34,34,0.96); border-radius:24px;
      box-shadow:var(--shadow); margin:18px 0; padding:18px 10px;
    }
    .section h2 { margin:0 0 12px 0; font-size:1.1em; font-weight:900;}
    .plans-wrap {
      display:flex;
      flex-direction:column;
      gap:14px;
      margin-bottom:18px;
    }
    .plan-card {
      background:linear-gradient(105deg, #ffe600 60%, #ff6f61 120%);
      border-radius:18px;
      box-shadow:var(--shadow);
      padding:14px 10px;
      display:flex;
      flex-direction:column;
      align-items:center;
      position:relative;
      min-width:220px;
    }
    .plan-title {
      font-weight:900; font-size:1em; color:#333;
    }
    .plan-details { font-size:0.95em; color:#555; margin:4px 0 8px 0;}
    .plan-buy-btn, .plan-claim-btn {
      background:var(--btn-bg);
      color:#ffe600;
      font-weight:900;
      padding:8px 24px;
      border-radius:12px;
      border:none;
      font-size:1em;
      cursor:pointer;
      box-shadow:0 2px 8px #fff4;
      margin-top:6px;
      transition:background 0.2s;
    }
    .plan-buy-btn:active, .plan-claim-btn:active { background:var(--btn-active);}
    .plan-claimed { color:#009900; font-weight:900;}
    /* Nav bar */
    .bottom-nav {
      position:fixed; left:0; bottom:0; right:0;
      display:flex; justify-content:space-around; align-items:center;
      background:rgba(34,34,34,0.98);
      box-shadow:0 -4px 32px rgba(30,144,255,0.10);
      padding:10px 0;
      z-index:99;
      height:70px;
    }
    .nav-btn {
      display:flex; flex-direction:column; align-items:center;
      color:#fff; font-weight:700;
      cursor:pointer; font-size:0.92em;
      gap:2px;
      transition:color 0.2s;
    }
    .nav-btn.active { color:var(--accent);}
    .nav-btn img { width:32px; height:32px;}
    .nav-btn:active { color:var(--accent);}
    /* Wallet modal */
    .modal-bg {
      position:fixed; top:0; left:0; width:100vw; height:100vh;
      background:rgba(34,34,34,0.86);
      z-index:200;
      display:flex; align-items:center; justify-content:center;
    }
    .modal-content {
      background:var(--card-bg); border-radius:18px; padding:20px 14px;
      min-width:260px; max-width:95vw; box-shadow:var(--shadow);
      display:flex; flex-direction:column; align-items:center;
      position:relative;
      color:#fff;
    }
    .modal-close {
      position:absolute; right:12px; top:8px; font-size:1.5em; color:#ffe600;
      cursor:pointer; font-weight:900;
    }
    .wallet-section-btns {
      display:flex; gap:12px; margin-bottom:20px;
    }
    .wallet-section-btn {
      background:#fff; color:#222; border-radius:9px; padding:9px 20px;
      font-weight:900; font-size:1em; cursor:pointer; border:none; box-shadow:var(--shadow);
    }
    .wallet-section-btn.active { background:var(--accent); color:#222;}
    .deposit-methods {
      display:flex; gap:14px; margin-bottom:12px;
      justify-content:center;
    }
    .deposit-method-btn {
      background:var(--primary); color:#fff; border-radius:8px; padding:7px 18px;
      border:none; font-weight:900; cursor:pointer; font-size:1em;
    }
    .deposit-method-btn.active { background:var(--accent); color:#222;}
    .wallet-form {
      width:100%; display:flex; flex-direction:column; gap:10px; margin-top:8px;
      align-items:center;
    }
    .wallet-form input, .wallet-form textarea {
      border-radius:8px; border:none; padding:8px; font-size:1em;
      width:95%; background:#333; color:#ffe600; font-weight:900;
      box-shadow:0 2px 8px #ffec;
      margin-bottom:4px;
    }
    .wallet-form label { font-weight:700; color:#ffe600; font-size:1em;}
    .wallet-form button {
      background:var(--accent); color:#222; border-radius:8px; padding:8px 18px;
      border:none; font-weight:900; font-size:1em; cursor:pointer; margin-top:6px;
    }
    .deposit-info {
      background:#222; border-radius:12px; padding:10px 8px; margin-top:14px;
      width:100%; color:#ffe600; font-size:1.05em; font-weight:900;
      display:flex; flex-direction:column; gap:8px; align-items:center;
    }
    .qr-img { width:120px; height:120px; border-radius:16px; object-fit:cover; border:3px solid #ffe600;}
    .copy-btn {
      background:#ffe600; color:#222; border-radius:8px; padding:5px 12px;
      font-weight:900; border:none; cursor:pointer; font-size:1em; margin:2px 0;
      display:flex; align-items:center; gap:6px;
    }
    .countdown-timer {
      font-size:1.1em; font-weight:900; background:#ff6f61; color:#fff;
      border-radius:8px; padding:4px 18px; margin:8px 0 0 0;
      letter-spacing:2px;
    }
    .exchange-row {
      display:flex; gap:10px; align-items:center; margin-top:4px;
      font-size:0.98em; font-weight:900; color:#ffe600;
    }
    .wallet-history-list {
      width:100%; max-height:180px; overflow-y:auto; margin-top:10px;
      border-radius:10px; background:#333; color:#ffe600; font-size:0.95em;
      padding:6px 10px; box-shadow:0 2px 8px #ffec;
    }
    .history-item {
      border-bottom:1px solid #444; margin-bottom:8px; padding-bottom:6px;
    }
    .profile-wrap {
      display:flex; flex-direction:column; align-items:center; gap:12px; margin-top:24px;
    }
    .profile-img { width:80px; height:80px; border-radius:50%; object-fit:cover; border:3px solid #ffe600;}
    .profile-title {
      font-size:1.2em; font-weight:900; color:#ffe600; margin-top:8px;
    }
    .profile-info { font-size:1em; color:#fff;}
    /* Scrollbar for wallet history */
    ::-webkit-scrollbar { width:6px; background:#222;}
    ::-webkit-scrollbar-thumb { background:#ffe600; border-radius:8px;}
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loadingScreen">
    <video src="https://github.com/s42144/Shark-Bounty/raw/8b67f2028cd3d33d6545243ea43a57958c428edf/29f4182c-fb84-4f6e-830f-f560ae571afe.mp4" autoplay muted playsinline loop style="width:140px; border-radius:18px; background:#222; box-shadow:0 0 40px #ffe600;"/>
  </div>
  <!-- Main App -->
  <div id="mainApp">
    <!-- Home Section -->
    <div class="header" id="header">
      <span id="homeBalanceRow" class="balance-row">
        <img src="https://github.com/s42144/Shark-Bounty/raw/17510103.gif" class="balance-img"/>
        <span class="balance-value" id="shbBalance">0</span>
        <span>SHB</span>
      </span>
      <span id="usdtBalanceRow" class="balance-row">
        <img src="https://github.com/s42144/Shark-Bounty/raw/15207964.png" class="balance-img"/>
        <span class="balance-value" id="usdtBalance">0.00</span>
        <span>USDT</span>
      </span>
    </div>
    <div id="homeSection" class="section" style="margin-top:10px;">
      <div class="coin-section">
        <div class="coin-btn" id="coinBtn">
          <img src="https://github.com/s42144/Shark-Bounty/raw/17510103.gif" alt="Shark"/>
        </div>
        <div id="tapAnimContainer"></div>
        <div class="energy-bar-wrap">
          <div class="energy-fill" id="energyFill"></div>
          <div class="energy-label" id="energyLabel"></div>
        </div>
      </div>
    </div>

    <!-- Trade Section -->
    <div id="tradeSection" class="section" style="display:none;">
      <h2><img src="https://github.com/s42144/Shark-Bounty/raw/9084248.png" style="width:26px;height:26px;vertical-align:middle;"/> Trade</h2>
      <div class="plans-wrap" id="plansWrap"></div>
    </div>
    <!-- Tasks Section -->
    <div id="tasksSection" class="section" style="display:none;">
      <h2><img src="https://github.com/s42144/Shark-Bounty/raw/16104409.png" style="width:26px;height:26px;vertical-align:middle;"/> Daily Tasks</h2>
      <div id="tasksWrap" style="color:#ffe600;font-size:1.1em;text-align:center;">No tasks yet.</div>
    </div>
    <!-- Wallet Section (Modal) -->
    <div id="walletModal" class="modal-bg" style="display:none;">
      <div class="modal-content" id="walletModalContent">
        <span class="modal-close" onclick="closeWalletModal()">×</span>
        <div class="wallet-section-btns">
          <button class="wallet-section-btn" id="depositBtn" onclick="showWalletSection('deposit')">Deposit</button>
          <button class="wallet-section-btn" id="withdrawBtn" onclick="showWalletSection('withdraw')">Withdraw</button>
          <button class="wallet-section-btn" id="historyBtn" onclick="showWalletSection('history')">History</button>
        </div>
        <div id="walletDepositSection" style="display:none;"></div>
        <div id="walletWithdrawSection" style="display:none;"></div>
        <div id="walletHistorySection" style="display:none;"></div>
      </div>
    </div>
    <!-- Profile Section -->
    <div id="profileSection" class="section" style="display:none;">
      <div class="profile-wrap">
        <img src="https://github.com/s42144/Shark-Bounty/raw/18827926.png" class="profile-img" alt="Profile"/>
        <div class="profile-title">Welcome, Shark Hunter!</div>
        <div class="profile-info">Your adventure stats and info will appear here. Stay tuned for more features!</div>
      </div>
    </div>
    <!-- Bottom Nav -->
    <div class="bottom-nav" id="bottomNav">
      <div class="nav-btn active" id="navHome" onclick="showSection('home')">
        <img src="https://github.com/s42144/Shark-Bounty/raw/1057118.png"/><span>Home</span>
      </div>
      <div class="nav-btn" id="navTrade" onclick="showSection('trade')">
        <img src="https://github.com/s42144/Shark-Bounty/raw/9084248.png"/><span>Trade</span>
      </div>
      <div class="nav-btn" id="navTasks" onclick="showSection('tasks')">
        <img src="https://github.com/s42144/Shark-Bounty/raw/16104409.png"/><span>Tasks</span>
      </div>
      <div class="nav-btn" id="navWallet" onclick="openWalletModal()">
        <img src="https://github.com/s42144/Shark-Bounty/raw/c06dc8d5e036525c17986aca385518c98926b633/6826311.png"/><span>Wallet</span>
      </div>
      <div class="nav-btn" id="navProfile" onclick="showSection('profile')">
        <img src="https://github.com/s42144/Shark-Bounty/raw/18827926.png"/><span>Profile</span>
      </div>
    </div>
  </div>
  <script>
    // --- App State ---
    let shbBalance = 0;
    let usdtBalance = 0.00;
    let energyMax = 1200;
    let energy = energyMax;
    let energyRestoreRate = 5; // per second
    let tapCost = 10;
    let tapTimeouts = [];
    let plans = [
      { name: 'TON/USDT', price: 10, daily: 1, validity: 30, img:"https://github.com/s42144/Shark-Bounty/raw/1890e18b5008f67e6d057aa7a47149bfc84740fc/Screenshot_2025-09-12-18-54-13-944_com.ton_keeper-edit.jpg"},
      { name: 'NOT/USDT', price: 30, daily: 3, validity: 30 },
      { name: 'HMSTR/USDT', price: 70, daily: 7, validity: 30 },
      { name: 'ETH/USDT', price: 100, daily: 10, validity: 30 },
      { name: 'BNB/USDT', price: 150, daily: 15, validity: 30 },
      { name: 'BTC/USDT', price: 200, daily: 20, validity: 30 }
    ];
    let userPlans = []; // {planIndex, boughtAt, claimedDays, active}
    let walletHistory = [];
    // --- Loading Screen ---
    setTimeout(()=>{
      document.getElementById('loadingScreen').style.display='none';
      document.getElementById('mainApp').style.display='flex';
      showSection('home');
      updateBalances();
      updateEnergy();
      renderPlans();
    },2600); // 2.6s loading

    // --- Energy Restore ---
    setInterval(()=>{
      if(energy<energyMax){ energy = Math.min(energyMax, energy+energyRestoreRate); updateEnergy();}
    },1000);

    function updateEnergy(){
      document.getElementById('energyFill').style.width = (energy/energyMax*100)+'%';
      document.getElementById('energyLabel').innerText = Math.floor(energy)+' / '+energyMax+' Energy';
    }

    // --- Balances ---
    function updateBalances(){
      document.getElementById('shbBalance').innerText = shbBalance;
      document.getElementById('usdtBalance').innerText = usdtBalance.toFixed(2);
    }

    // --- Coin Tap ---
    document.getElementById('coinBtn').onclick = function(){
      if(energy<tapCost){ return;}
      shbBalance += 1;
      energy -= tapCost;
      updateBalances();
      updateEnergy();
      showTapAnim("+1");
    };
    function showTapAnim(txt){
      let el = document.createElement('div');
      el.className = "tap-anim";
      el.innerText = txt;
      document.getElementById('tapAnimContainer').appendChild(el);
      setTimeout(()=>{el.remove();},900);
    }

    // --- Plans (Trade) ---
    function renderPlans(){
      let wrap = document.getElementById('plansWrap');
      wrap.innerHTML = '';
      plans.forEach((plan, idx)=>{
        let userPlan = userPlans.find(p=>p.planIndex===idx && p.active);
        let card = document.createElement('div');
        card.className = "plan-card";
        card.innerHTML = `
          <div class="plan-title">${plan.name}</div>
          <div class="plan-details">Price: <b>$${plan.price}</b> • Validity: <b>${plan.validity}d</b> • Daily earning: <b>$${plan.daily}</b></div>
        `;
        let btn;
        if(userPlan){
          // Active plan
          let canClaim = userPlan.claimedDays < plan.validity && (Date.now()-userPlan.lastClaimedAt>1000*60*60*24);
          if(canClaim){
            btn = document.createElement('button');
            btn.className = "plan-claim-btn";
            btn.innerText = "Claim";
            btn.onclick = ()=>{
              usdtBalance += plan.daily;
              userPlan.claimedDays +=1;
              userPlan.lastClaimedAt = Date.now();
              updateBalances();
              renderPlans();
            };
            card.appendChild(btn);
          } else {
            card.innerHTML += `<div class="plan-claimed">Claimed Today</div>`;
          }
        } else {
          // Not bought
          btn = document.createElement('button');
          btn.className = "plan-buy-btn";
          btn.innerText = "Buy";
          btn.onclick = ()=>{
            if(usdtBalance>=plan.price){
              usdtBalance -= plan.price;
              userPlans.push({planIndex:idx,boughtAt:Date.now(),claimedDays:0,lastClaimedAt:0,active:true});
              updateBalances();
              renderPlans();
              walletHistory.push({type:"Buy", amount:plan.price, asset:"USDT", plan:plan.name, time:new Date().toLocaleString()});
            } else {
              btn.innerText = "Insufficient USDT";
              setTimeout(()=>{btn.innerText="Buy";},1400);
            }
          };
          card.appendChild(btn);
        }
        wrap.appendChild(card);
      });
    }

    // --- Nav Section Switch ---
    function showSection(sec){
      let sections = ['home','trade','tasks','profile'];
      sections.forEach(s=>{
        document.getElementById(s+"Section").style.display = s===sec ? "block":"none";
        document.getElementById("nav"+capitalize(s)).classList.toggle("active",s===sec);
      });
    }
    function capitalize(s){ return s[0].toUpperCase()+s.slice(1); }

    // --- Wallet Modal ---
    function openWalletModal(){
      document.getElementById('walletModal').style.display = 'flex';
      showWalletSection('deposit');
    }
    function closeWalletModal(){
      document.getElementById('walletModal').style.display = 'none';
    }
    function showWalletSection(sec){
      ['deposit','withdraw','history'].forEach(s=>{
        document.getElementById('wallet'+capitalize(s)+'Section').style.display = s===sec ? "block":"none";
        document.getElementById(s+'Btn').classList.toggle('active',s===sec);
      });
      if(sec==='deposit') renderWalletDeposit();
      if(sec==='withdraw') renderWalletWithdraw();
      if(sec==='history') renderWalletHistory();
    }

    // --- Deposit Section ---
    let depositMethod="TONCOIN";
    let depositTimer=null;
    function renderWalletDeposit(){
      let el = document.getElementById('walletDepositSection');
      el.innerHTML = `
        <div class="deposit-methods">
          <button class="deposit-method-btn${depositMethod==='TONCOIN'?' active':''}" onclick="setDepositMethod('TONCOIN')">TONCOIN</button>
          <button class="deposit-method-btn${depositMethod==='USDT'?' active':''}" onclick="setDepositMethod('USDT')">USDT TON</button>
        </div>
        <form class="wallet-form" id="depositForm">
          <label>Amount (${depositMethod==='TONCOIN'?'Min 3 TON':'Min 10 USDT'})</label>
          <input type="number" id="depositAmount" min="${depositMethod==='TONCOIN'?3:10}" step="0.01" placeholder="Enter amount"/>
          <button type="submit">Confirm</button>
        </form>
        <div id="depositInfo"></div>
      `;
      document.getElementById('depositForm').onsubmit = function(e){
        e.preventDefault();
        let amt = parseFloat(document.getElementById('depositAmount').value);
        if(isNaN(amt) || amt < (depositMethod==='TONCOIN'?3:10)) return;
        showDepositQR(amt,depositMethod);
      };
      document.getElementById('depositInfo').innerHTML = '';
    }
    window.setDepositMethod = function(m){ depositMethod=m; renderWalletDeposit(); };

    function showDepositQR(amount,method){
      let qr = method==='TONCOIN'
        ? "https://github.com/s42144/Shark-Bounty/raw/1890e18b5008f67e6d057aa7a47149bfc84740fc/Screenshot_2025-09-12-18-54-13-944_com.ton_keeper-edit.jpg"
        : "https://github.com/s42144/Shark-Bounty/raw/a23720d6a315d2422e3943aa7bf779beac9acdad/Screenshot_2025-09-12-18-54-50-676_com.ton_keeper-edit.jpg";
      let addr = "UQCOL7arveEVrKfKa9v3SbZnKjIBnOavmX3aXdDV-XD1cQ09";
      let memo = "D"+Math.floor(Math.random()*1000000+100000).toString();
      let rate = 3.20;
      let usdtEq = method==='TONCOIN' ? (amount*rate).toFixed(2) : amount.toFixed(2);
      let infoHTML = `
        <div class="deposit-info">
          <img class="qr-img" src="${qr}" alt="QR"/>
          <div>Deposit Address:<br>
            <span>${addr}</span>
            <button class="copy-btn" onclick="copyToClipboard('${addr}')">
              <img src="https://github.com/s42144/Shark-Bounty/raw/1622069.png" style="width:18px;"/> Copy
            </button>
          </div>
          <div>Amount: <b>${amount} ${method==='TONCOIN'?'TON':'USDT'}</b></div>
          ${method==='TONCOIN'?`<div>Exchange Rate: 1 TON = $${rate}</div>`:""}
          <div>USDT Equivalent: <b>$${usdtEq}</b></div>
          <div>Memo/Comment: <span id="depositMemo">${memo}</span>
            <button class="copy-btn" onclick="copyToClipboard('${memo}')">
              <img src="https://github.com/s42144/Shark-Bounty/raw/1622069.png" style="width:18px;"/> Copy
            </button>
          </div>
          <div class="countdown-timer" id="depositCountdown">15:00</div>
        </div>
      `;
      document.getElementById('depositInfo').innerHTML = infoHTML;
      // Countdown
      let countdown = 15*60;
      clearInterval(depositTimer);
      depositTimer = setInterval(()=>{
        countdown--;
        let m = Math.floor(countdown/60), s = countdown%60;
        document.getElementById('depositCountdown').innerText = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        if(countdown<=0){
          clearInterval(depositTimer);
          document.getElementById('depositCountdown').innerText = "Expired";
        }
      },1000);
      // Simulate deposit after 5s
      setTimeout(()=>{
        usdtBalance += parseFloat(usdtEq);
        updateBalances();
        walletHistory.push({type:"Deposit", amount:usdtEq, asset:"USDT", method, time:new Date().toLocaleString()});
        renderWalletHistory();
      },5000);
    }

    window.copyToClipboard = function(txt){
      navigator.clipboard.writeText(txt);
      alert("Copied!");
    };

    // --- Withdraw Section ---
    function renderWalletWithdraw(){
      let el = document.getElementById('walletWithdrawSection');
      el.innerHTML = `
        <form class="wallet-form" id="withdrawForm">
          <label>Withdraw Method</label>
          <select id="withdrawMethod" style="width:97%;padding:7px;border-radius:8px;background:#333;color:#ffe600;font-weight:900;">
            <option value="USDT">USDT TON</option>
            <option value="TONCOIN">TONCOIN</option>
          </select>
          <label>Amount (Min $3)</label>
          <input type="number" id="withdrawAmount" min="3" step="0.01" placeholder="Enter withdraw amount"/>
          <label>${document.getElementById('withdrawMethod')?.value || "USDT"} Address</label>
          <input type="text" id="withdrawAddr" placeholder="Enter chain address"/>
          <label>Momo/Comment (Optional)</label>
          <input type="text" id="withdrawMemo" placeholder="Memo/Comment"/>
          <button type="submit">Confirm</button>
        </form>
        <div id="withdrawInfo"></div>
      `;
      document.getElementById('withdrawForm').onsubmit = function(e){
        e.preventDefault();
        let amt = parseFloat(document.getElementById('withdrawAmount').value);
        let addr = document.getElementById('withdrawAddr').value;
        if(isNaN(amt) || amt<3 || !addr) return;
        if(usdtBalance<amt){ document.getElementById('withdrawInfo').innerHTML = "Insufficient USDT balance."; return;}
        usdtBalance -= amt;
        updateBalances();
        document.getElementById('withdrawInfo').innerHTML = "Withdraw requested!";
        walletHistory.push({type:"Withdraw", amount:amt, asset:"USDT", method:document.getElementById('withdrawMethod').value, time:new Date().toLocaleString(), addr});
        renderWalletHistory();
      };
    }

    // --- Wallet History ---
    function renderWalletHistory(){
      let el = document.getElementById('walletHistorySection');
      el.innerHTML = `<div class="wallet-history-list" id="walletHistoryList"></div>`;
      let list = document.getElementById('walletHistoryList');
      list.innerHTML = '';
      walletHistory.slice(-15).reverse().forEach(h=>{
        list.innerHTML += `<div class="history-item"><b>${h.type}</b> $${h.amount} ${h.asset} [${h.method||''}]<br><small>${h.time}</small></div>`;
      });
    }

    // --- Tasks Section ---
    // Add admin panel hooks later. For now, tasks are empty.

    // --- Profile Section ---
    // Placeholder info.

    // --- Utility ---
    window.showSection = showSection;
    window.openWalletModal = openWalletModal;
    window.closeWalletModal = closeWalletModal;
    window.showWalletSection = showWalletSection;
    window.renderWalletDeposit = renderWalletDeposit;
    window.renderWalletWithdraw = renderWalletWithdraw;
    window.renderWalletHistory = renderWalletHistory;
  </script>
</body>
</html>
